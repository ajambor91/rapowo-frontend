<div class="container">
  <h2 class="mb-5 h2 text-center mt__100">{{"Resetowanie hasła" | translate}}</h2>
  <p *ngIf="!userExist; else form" class="text-center">{{ "Za" | translate}} {{timer}} {{ "sekund zostaniesz przeniesiony na" | translate }} <a routerLink="/">{{ "stronę główną" | translate}}</a></p>
  <ng-template #form>
    <form (ngSubmit)="resetPass()" [formGroup]="resetPasswordForm">
      <div class="row">
        <div class="col-md-6 col-xs-12 offset-md-3">
          <div class="form-group">
            <input class="form-control" type="password" formControlName="password" [placeholder]="'Hasło' | translate">
            <span *ngIf="passwordField.errors && passwordField.errors.required && (passwordField.touched || submit)">{{"Hasło jest wymagane" | translate}}</span>
            <span *ngIf="passwordField.errors && passwordField.errors.pattern && (passwordField.touched || submit)">{{"Hasło powinno zawierać 6 znaków i conajmniej jedną cyfrę" | translate}}</span>
          </div>
          <div class="form-group">
            <input type="password" class="form-control" formControlName="repeatPassword" [placeholder]="'Powtórz hasło' | translate">
            <span *ngIf="repeatPasswordField.errors && repeatPasswordField.errors.required && ( repeatPasswordField.touched || submit)">{{"Musisz powtórzyć hasło" | translate}}</span>
            <span *ngIf="repeatPasswordField.errors && repeatPasswordField.errors.matchPasswords && ( repeatPasswordField.touched || submit)">{{"Hasła się nie zgadzają" | translate}}</span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="text-center mt-5 col-12 form-group">
          <button id="submit" role="button" class="d-inline btn rapowo__btn"><span class="button-content" *ngIf="!submitted; else spinner">{{'Zresetuj hasło!'| translate}}</span><ng-template #spinner><img class="button-content button-loader" src="assets/loaders/button_loader.svg"></ng-template></button>
        </div>
      </div>
    </form>
  </ng-template>
</div>
